
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allows reading the specific admin credentials document
    match /admin_config/main_credentials {
      allow read: if true; // Allows any authenticated or unauthenticated client to read
      allow write: if request.auth != null; // Example: only allow authenticated users to write (you'd restrict this to admins)
    }

    // Rules for contactSubmissions
    match /contactSubmissions/{submissionId} {
      allow read: if true; 
      allow create: if true; 
      allow update: if true; // SHOULD BE RESTRICTED TO ADMINS
    }

    // Rules for events
    match /events/{eventId} {
      allow read: if true; // Allows anyone to read events for the public page
      allow create: if true; // EXAMPLE: Allow anyone to create. FOR PRODUCTION: This MUST be restricted to admin users only.
                            // e.g., if request.auth.token.isAdmin == true;
      // Add allow update, delete: if request.auth.token.isAdmin == true; for future admin actions
    }

    // Rules for mentors
    match /mentors/{mentorId} {
      allow read: if true; // Allows anyone to read mentor profiles for the public page
      allow create: if true; // EXAMPLE: Allow anyone to create. FOR PRODUCTION: This MUST be restricted to admin users only.
                            // e.g., if request.auth.token.isAdmin == true;
      // Add allow update, delete: if request.auth.token.isAdmin == true; for future admin actions
    }
  }
}
